<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>CryptoSteg • Enhanced Dashboard</title>

<!-- Font Awesome Icons -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
  :root{
    --bg-1:#07090f;
    --bg-2:#0e1430;
    --glass: rgba(255,255,255,.08);
    --glass-hover: rgba(255,255,255,.12);
    --stroke: rgba(255,255,255,.14);
    --cyan:#00f6ff;
    --pink:#ff4ecd;
    --blue:#4dd2ff;
    --green:#00ff88;
    --orange:#ff8c42;
    --red:#ff4757;
    --text:#e8f6ff;
    --muted:#b6c2cb;
    --shadow: 0 10px 30px rgba(0,0,0,.45);
    --shadow-hover: 0 20px 60px rgba(0,246,255,.35);
  }

  /* Reset & base */
  *,*::before,*::after{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; color:var(--text); 
    background: radial-gradient(1200px 600px at 10% 10%, #161b39 0%, transparent 60%),
                radial-gradient(1000px 800px at 90% 30%, #101634 0%, transparent 60%),
                linear-gradient(180deg, var(--bg-1), var(--bg-2));
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    overflow-x:hidden;
  }

  /* Enhanced parallax layers */
  .layer{
    position:fixed; inset:0; pointer-events:none; z-index:0;
    transform:translateZ(0); will-change: transform;
  }
  
  .grid{
    background-image:
      linear-gradient(rgba(255,255,255,.04) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,.04) 1px, transparent 1px);
    background-size: 60px 60px;
    mask-image: radial-gradient(70% 60% at 50% 40%, black, transparent 70%);
  }

  .glow{
    background:
      radial-gradient(600px 600px at 25% 20%, rgba(0, 255, 204, .25), transparent 60%),
      radial-gradient(800px 600px at 75% 30%, rgba(255, 0, 204, .20), transparent 60%),
      radial-gradient(500px 500px at 50% 80%, rgba(77, 210, 255, .18), transparent 60%);
    filter: blur(18px) saturate(130%);
    mix-blend-mode: screen;
  }

  #fx{position:fixed; inset:0; z-index:0; pointer-events:none;}

  /* Enhanced navigation */
  .nav{
    position:fixed; top:0; left:0; right:0; z-index:100;
    display:flex; align-items:center; justify-content:space-between;
    padding:16px 24px;
    background: linear-gradient(to bottom, rgba(10,14,28,.75), rgba(10,14,28,.35));
    backdrop-filter: blur(12px) saturate(150%);
    border-bottom:1px solid var(--stroke);
    transition: background .3s ease;
  }
  
  .brand{
    font-weight:800; letter-spacing:.5px; font-size:1.1rem;
    background: linear-gradient(135deg, var(--cyan), var(--pink), var(--blue));
    -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
    text-shadow: 0 0 20px rgba(0,246,255,.3);
  }

  .nav-links{
    display:flex; gap:20px; align-items:center;
  }

  .nav a{
    text-decoration:none; color:var(--text); opacity:.85; 
    font-weight:600; font-size:.95rem; padding:8px 12px; border-radius:8px;
    transition: all .3s ease; position:relative;
  }
  .nav a:hover{ 
    color:var(--cyan); opacity:1; 
    background:rgba(0,246,255,.1);
    transform:translateY(-1px);
  }

  /* Enhanced theme toggle */
  .theme-toggle{
    background:var(--glass); border:1px solid var(--stroke);
    border-radius:50%; width:42px; height:42px;
    display:grid; place-items:center; cursor:pointer;
    transition: all .3s ease; color:var(--cyan);
  }
  .theme-toggle:hover{
    background:var(--glass-hover); transform:rotate(180deg);
    box-shadow:0 0 20px rgba(0,246,255,.3);
  }

  /* Page container */
  .page{
    position:relative; z-index:2; padding-top:100px; 
    padding-inline: clamp(20px, 5vw, 50px);
    max-width:1400px; margin-inline:auto; min-height:100vh;
  }

  /* Enhanced hero */
  .hero{
    display:grid; gap:20px; justify-items:center; text-align:center; 
    margin-bottom:40px; padding:40px 20px;
  }
  
  .status-indicator{
    display:inline-flex; align-items:center; gap:8px;
    background:rgba(0,255,136,.1); border:1px solid rgba(0,255,136,.3);
    padding:8px 16px; border-radius:20px; font-size:.85rem;
    color:var(--green); font-weight:600;
  }
  
  .status-dot{
    width:6px; height:6px; border-radius:50%; background:var(--green);
    animation: pulse 2s infinite;
  }
  
  @keyframes pulse{
    0%, 100% { opacity:1; transform:scale(1); }
    50% { opacity:.6; transform:scale(1.2); }
  }

  .kicker{ 
    color:var(--muted); font-weight:600; letter-spacing:.3em; 
    text-transform:uppercase; font-size:.85rem; margin-top:10px;
  }
  
  .title{
    font-size: clamp(2.2rem, 5vw, 3.8rem);
    font-weight:900; line-height:1.1; margin:20px 0;
    background: linear-gradient(135deg, var(--cyan), var(--pink), var(--blue));
    -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
    text-shadow:0 0 30px rgba(0, 246, 255, .2);
  }
  
  .subtitle{ 
    color:var(--muted); max-width:900px; 
    font-size: clamp(1rem, 1.8vw, 1.15rem); line-height:1.6;
  }

  /* Enhanced stats row */
  .stats{
    display:grid; grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));
    gap:20px; margin:30px 0; padding:20px 0;
  }
  
  .stat{
    text-align:center; padding:20px;
    background:var(--glass); border:1px solid var(--stroke);
    border-radius:16px; transition: all .3s ease;
  }
  .stat:hover{ transform:translateY(-3px); background:var(--glass-hover); }
  
  .stat-number{
    font-size:1.8rem; font-weight:800; 
    background: linear-gradient(90deg, var(--cyan), var(--pink));
    -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
  }
  .stat-label{ color:var(--muted); font-size:.9rem; margin-top:5px; }

  /* Enhanced options grid - Removed as per request */

  /* Premium hologram cards */
  .card{
    position:relative; overflow:hidden; border-radius:24px; padding:32px 28px;
    background: linear-gradient(145deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
    border:1px solid var(--stroke);
    box-shadow: var(--shadow);
    transition: all .4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    transform-style:preserve-3d; cursor:pointer;
    backdrop-filter: blur(10px);
  }
  
  .card:hover{
    transform: translateY(-8px) rotateX(2deg);
    box-shadow: var(--shadow-hover);
    border-color: rgba(0,246,255,.4);
  }

  .card::before{
    content:""; position:absolute; inset:-2px; border-radius:inherit;
    background: conic-gradient(from 180deg, rgba(0,246,255,0), rgba(255,78,205,.3), rgba(77,210,255,.3), rgba(0,246,255,0));
    filter: blur(20px); opacity:0; transition: opacity .4s ease;
    z-index:-1;
  }
  .card:hover::before{ opacity:.6; }

  .card .shine{
    position:absolute; inset:-1px; border-radius:inherit;
    background: linear-gradient(135deg, transparent 30%, rgba(255,255,255,.15) 50%, transparent 70%);
    opacity:0; transition: opacity .6s ease;
    pointer-events:none;
  }
  .card:hover .shine{ opacity:1; }

  .card .icon{
    font-size:48px; margin-bottom:16px; display:inline-block;
    filter: drop-shadow(0 0 20px currentColor);
    transition: transform .3s ease;
  }
  .card:hover .icon{ transform: scale(1.1) rotateY(15deg); }
  
  .icon.encrypt{ color:var(--cyan); }
  .icon.decrypt{ color:var(--pink); }
  .icon.analyze{ color:var(--green); }
  .icon.settings{ color:var(--orange); }

  .card h3{ 
    margin:8px 0 12px 0; font-size:1.4rem; font-weight:700;
    background: linear-gradient(90deg, var(--text), var(--muted));
    -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
  }
  
  .card p{ 
    margin:0 0 20px 0; color:var(--muted); font-size:1rem; line-height:1.5;
  }

  .card-features{
    margin:16px 0; padding-top:16px; border-top:1px solid rgba(255,255,255,.1);
  }
  
  .feature{
    display:flex; align-items:center; gap:8px; margin:6px 0;
    font-size:.9rem; color:var(--muted);
  }
  .feature i{ color:var(--green); }

  .actions{
    display:flex; gap:12px; margin-top:20px; flex-wrap:wrap;
  }
  
  .btn{
    appearance:none; border:1px solid rgba(255,255,255,.2); color:var(--text);
    background:var(--glass); padding:12px 20px; border-radius:12px; 
    font-weight:700; font-size:.95rem; cursor:pointer;
    transition: all .3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position:relative; overflow:hidden;
  }
  
  .btn::before{
    content:""; position:absolute; inset:0; 
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.1), transparent);
    transform:translateX(-100%); transition: transform .6s ease;
  }
  .btn:hover::before{ transform:translateX(100%); }
  
  .btn:hover{ 
    transform:translateY(-2px); 
    box-shadow:0 8px 25px rgba(0,246,255,.25);
    border-color:rgba(0,246,255,.4);
  }
  
  .btn.primary{ 
    background: linear-gradient(135deg, rgba(0,246,255,.25), rgba(255,78,205,.25)); 
    border-color:rgba(255,255,255,.3);
    color:white; font-weight:800;
  }

  /* Enhanced widgets section */
  .widgets{ 
    display:grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap:24px; margin:50px 0;
  }
  
  .widget{
    padding:24px; border-radius:20px; 
    background: linear-gradient(135deg, var(--glass), rgba(255,255,255,.04));
    border:1px solid var(--stroke); box-shadow: var(--shadow);
    transition: all .3s ease; backdrop-filter: blur(8px);
  }
  .widget:hover{ 
    transform:translateY(-4px); 
    box-shadow:0 15px 40px rgba(0,0,0,.3);
    border-color:rgba(255,255,255,.25);
  }
  
  .widget-header{
    display:flex; align-items:center; gap:16px; margin-bottom:16px;
  }
  
  .badge{
    min-width:48px; height:48px; border-radius:14px; display:grid; place-items:center;
    background:linear-gradient(135deg, rgba(0,246,255,.2), rgba(255,78,205,.2)); 
    border:1px solid rgba(255,255,255,.2); font-size:1.2rem;
    box-shadow:inset 0 1px 0 rgba(255,255,255,.2);
  }
  
  .widget h4{ margin:0; font-size:1.1rem; font-weight:700; }
  .widget p{ margin:8px 0 0 0; color:var(--muted); line-height:1.5; }

  /* Removed File upload zone section */

  /* Quick actions toolbar */
  .toolbar{
    position:fixed; bottom:30px; left:50%; transform:translateX(-50%);
    display:flex; gap:12px; padding:16px 24px; border-radius:50px;
    background: linear-gradient(135deg, var(--glass), rgba(255,255,255,.12));
    backdrop-filter: blur(15px); border:1px solid var(--stroke);
    box-shadow: var(--shadow); z-index:50;
    transition: all .3s ease;
  }
  
  .toolbar-btn{
    width:44px; height:44px; border:none; border-radius:50%;
    background:var(--glass); color:var(--text); cursor:pointer;
    display:grid; place-items:center; transition: all .3s ease;
    font-size:1.1rem;
  }
  .toolbar-btn:hover{
    background:var(--cyan); color:var(--bg-1);
    transform:translateY(-3px) scale(1.1);
    box-shadow:0 8px 20px rgba(0,246,255,.4);
  }

  /* Enhanced footer */
  footer{
    margin:60px auto 40px; text-align:center; color:var(--muted); 
    padding:30px; border-top:1px solid rgba(255,255,255,.08);
  }
  
  .footer-content{
    display:flex; justify-content:space-between; align-items:center;
    flex-wrap:wrap; gap:20px;
  }
  
  .footer-links{
    display:flex; gap:24px;
  }
  .footer-links a{
    color:var(--muted); text-decoration:none; transition: color .3s ease;
  }
  .footer-links a:hover{ color:var(--cyan); }

  /* Toast notifications */
  .toast{
    position:fixed; top:100px; right:20px; z-index:200;
    padding:16px 20px; border-radius:12px; color:white;
    box-shadow: var(--shadow); backdrop-filter: blur(10px);
    transform:translateX(400px); transition: transform .4s ease;
    display:flex; align-items:center; gap:12px;
  }
  .toast.show{ transform:translateX(0); }
  .toast.success{ background:linear-gradient(135deg, rgba(0,255,136,.9), rgba(0,200,100,.9)); }
  .toast.error{ background:linear-gradient(135deg, rgba(255,71,87,.9), rgba(200,0,50,.9)); }
  .toast.info{ background:linear-gradient(135deg, rgba(0,246,255,.9), rgba(0,150,200,.9)); }

  /* Reveal animations */
  .reveal{ 
    opacity:0; transform: translateY(30px); 
    transition: all .8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
  .reveal.show{ opacity:1; transform:none; }

  /* Mobile responsiveness */
  @media (max-width: 768px){
    .nav-links a:not(:last-child){ display:none; }
    .options{ grid-template-columns: 1fr; }
    .stats{ grid-template-columns: repeat(2, 1fr); }
    .toolbar{ bottom:20px; }
    .footer-content{ flex-direction:column; text-align:center; }
  }

  @media (prefers-reduced-motion: reduce){
    .card, .btn, .widget, .toast, #fx{ 
      animation:none !important; transition:none !important; 
    }
    #fx{ display:none; }
  }
</style>
</head>
<body>

<!-- Background layers -->
<div class="layer grid" id="grid"></div>
<canvas id="fx" class="layer"></canvas>
<div class="layer glow" id="glow"></div>

<!-- Enhanced Navigation -->
<nav class="nav">
  <div class="brand">🔐 CryptoSteg</div>
  <div class="nav-links">
    <a href="#" onclick="showSection('dashboard')">Dashboard</a>
    <a href="#" onclick="showSection('history')">History</a>
    <a href="#" onclick="showSection('profile')">Profile</a>
    <div class="theme-toggle" onclick="toggleTheme()" title="Toggle Theme">
      <i class="fas fa-moon"></i>
    </div>
  </div>
</nav>

<!-- Main Content -->
<main class="page">
  <!-- Hero Section -->
  <section class="hero reveal">
    <div class="status-indicator">
      <div class="status-dot"></div>
      System Online & Secure
    </div>
    <div class="kicker">Advanced • Secure • Invisible</div>
    <h1 class="title">Next-Gen Steganography Platform</h1>
    <p class="subtitle">
      Hide your most sensitive data within ordinary files using military-grade encryption and cutting-edge steganographic techniques. 
      Your secrets remain invisible in plain sight.
    </p>
  </section>

  <!-- Stats Overview -->
  <section class="stats reveal">
    <div class="stat">
      <div class="stat-number" id="files-processed">1,247</div>
      <div class="stat-label">Files Processed</div>
    </div>
    <div class="stat">
      <div class="stat-number" id="data-secured">2.4TB</div>
      <div class="stat-label">Data Secured</div>
    </div>
    <div class="stat">
      <div class="stat-number" id="success-rate">99.9%</div>
      <div class="stat-label">Success Rate</div>
    </div>
    <div class="stat">
      <div class="stat-number" id="uptime">99.8%</div>
      <div class="stat-label">Uptime</div>
    </div>
  </section>

  <!-- Enhanced Options Grid -->
  <section class="options reveal">
    <!-- Encryption Card -->
    <article class="card tilt" onclick="startEncryption()">
      <div class="shine"></div>
      <i class="fas fa-shield-halved icon encrypt"></i>
      <h3>Advanced Encryption</h3>
      <p>Hide your sensitive data inside images, audio, or video files with AES-256 encryption and advanced steganographic algorithms.</p>
      
      <div class="card-features">
        <div class="feature">
          <i class="fas fa-check"></i>
          AES-256 Military Grade Encryption
        </div>
        <div class="feature">
          <i class="fas fa-check"></i>
          Multiple File Format Support
        </div>
        <div class="feature">
          <i class="fas fa-check"></i>
          Zero Trace Technology
        </div>
      </div>
      
      <div class="actions">
        <button class="btn primary" onclick="event.stopPropagation(); navigateToEncryption()">Start Encrypting</button>
        <button class="btn" onclick="event.stopPropagation(); showDemo('encrypt')">
          <i class="fas fa-play"></i> Demo
        </button>
      </div>
    </article>

    <!-- Decryption Card -->
    <article class="card tilt" onclick="startDecryption()">
      <div class="shine"></div>
      <i class="fas fa-unlock-keyhole icon decrypt"></i>
      <h3>Smart Decryption</h3>
      <p>Extract hidden payloads from media files with intelligent detection and secure key-based recovery systems.</p>
      
      <div class="card-features">
        <div class="feature">
          <i class="fas fa-check"></i>
          Auto-Detection Algorithm
        </div>
        <div class="feature">
          <i class="fas fa-check"></i>
          Batch Processing Support
        </div>
        <div class="feature">
          <i class="fas fa-check"></i>
          Integrity Verification
        </div>
      </div>
      
      <div class="actions">
        <button class="btn primary" onclick="event.stopPropagation(); navigateToDecryption()">Start Decrypting</button>
        <button class="btn" onclick="event.stopPropagation(); showDemo('decrypt')">
          <i class="fas fa-play"></i> Demo
        </button>
      </div>
    </article>

    <!-- Analysis Card (Removed as per request) -->
    <!-- Settings Card (Removed as per request) -->
  </section>

  <!-- Removed File upload zone section -->

  <!-- Enhanced Info Widgets -->
  <section class="widgets reveal">
    <div class="widget">
      <div class="widget-header">
        <div class="badge"><i class="fas fa-shield-virus"></i></div>
        <div>
          <h4>Quantum-Safe Security</h4>
        </div>
      </div>
      <p>Future-proof encryption resistant to quantum computing attacks. Your data stays secure even against tomorrow's threats.</p>
    </div>
    
    <div class="widget">
      <div class="widget-header">
        <div class="badge"><i class="fas fa-bolt"></i></div>
        <div>
          <h4>Lightning Performance</h4>
        </div>
      </div>
      <p>Optimized algorithms process large files in seconds. GPU acceleration and multi-threading deliver unmatched speed.</p>
    </div>
    
    <div class="widget">
      <div class="widget-header">
        <div class="badge"><i class="fas fa-eye-slash"></i></div>
        <div>
          <h4>Invisible Integration</h4>
        </div>
      </div>
      <p>Perfect steganography leaves no detectable traces. Your hidden data is completely invisible to analysis tools.</p>
    </div>
    
    <div class="widget">
      <div class="widget-header">
        <div class="badge"><i class="fas fa-globe"></i></div>
        <div>
          <h4>Universal Compatibility</h4>
        </div>
      </div>
      <p>Works with all major file formats and platforms. Cross-platform support ensures your data is always accessible.</p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="reveal">
    <div class="footer-content">
      <div>© 2025 CryptoSteg Pro. All rights reserved.</div>
      <div class="footer-links">
        <a href="#" onclick="showModal('privacy')">Privacy</a>
        <a href="#" onclick="showModal('terms')">Terms</a>
        <a href="#" onclick="showModal('docs')">API Docs</a>
        <a href="#" onclick="showModal('support')">Support</a>
      </div>
    </div>
  </footer>
</main>

<!-- Floating Action Toolbar -->
<div class="toolbar">
  <button class="toolbar-btn" onclick="quickEncrypt()" title="Quick Encrypt">
    <i class="fas fa-lock"></i>
  </button>
  <button class="toolbar-btn" onclick="quickDecrypt()" title="Quick Decrypt">
    <i class="fas fa-unlock"></i>
  </button>
  <button class="toolbar-btn" onclick="showHistory()" title="History">
    <i class="fas fa-history"></i>
  </button>
  <button class="toolbar-btn" onclick="showHelp()" title="Help">
    <i class="fas fa-question"></i>
  </button>
</div>

<!-- Toast Container -->
<div id="toastContainer"></div>

<script>
/* ===========================
   Enhanced Parallax & Effects
   =========================== */
const layers = {
  grid: document.getElementById('grid'),
  glow: document.getElementById('glow')
};

let cx = window.innerWidth / 2, cy = window.innerHeight / 2;
let mouseX = cx, mouseY = cy;

function smoothParallax() {
  const dx = (mouseX - cx) / cx;
  const dy = (mouseY - cy) / cy;
  
  // Smoother interpolation
  layers.grid.style.transform = `translate(${dx * 20}px, ${dy * 20}px) rotate(${dx * 2}deg)`;
  layers.glow.style.transform = `translate(${dx * -30}px, ${dy * -20}px) scale(${1 + Math.abs(dx) * 0.1})`;
  
  requestAnimationFrame(smoothParallax);
}

window.addEventListener('mousemove', (e) => {
  mouseX = e.clientX;
  mouseY = e.clientY;
});

window.addEventListener('deviceorientation', (ev) => {
  const dx = (ev.gamma || 0) / 45;
  const dy = (ev.beta || 0) / 45;
  mouseX = cx + dx * cx;
  mouseY = cy + dy * cy;
});

smoothParallax();

/* ===========================
   Enhanced Particle System
   =========================== */
const canvas = document.getElementById('fx');
const ctx = canvas.getContext('2d');
let W = canvas.width = innerWidth;
let H = canvas.height = innerHeight;

window.addEventListener('resize', () => {
  W = canvas.width = innerWidth;
  H = canvas.height = innerHeight;
  initParticles();
});

const COLORS = ['#00f6ff', '#ff4ecd', '#4dd2ff', '#00ff88'];
let particles = [];
const particleCount = 120;
let connectionDistance = 120;

class Particle {
  constructor() {
    this.x = Math.random() * W;
    this.y = Math.random() * H;
    this.vx = (Math.random() - 0.5) * 0.8;
    this.vy = (Math.random() - 0.5) * 0.8;
    this.radius = Math.random() * 2 + 0.5;
    this.color = COLORS[Math.floor(Math.random() * COLORS.length)];
    this.opacity = Math.random() * 0.8 + 0.2;
    this.pulse = Math.random() * Math.PI * 2;
  }
  
  update() {
    this.x += this.vx;
    this.y += this.vy;
    this.pulse += 0.02;
    
    // Bounce off edges
    if (this.x < 0 || this.x > W) this.vx *= -1;
    if (this.y < 0 || this.y > H) this.vy *= -1;
    
    // Keep in bounds
    this.x = Math.max(0, Math.min(W, this.x));
    this.y = Math.max(0, Math.min(H, this.y));
  }
  
  draw() {
    const pulseSize = this.radius + Math.sin(this.pulse) * 0.5;
    
    ctx.save();
    ctx.globalCompositeOperation = 'screen';
    ctx.shadowBlur = 15;
    ctx.shadowColor = this.color;
    ctx.fillStyle = this.color;
    ctx.globalAlpha = this.opacity;
    
    ctx.beginPath();
    ctx.arc(this.x, this.y, pulseSize, 0, Math.PI * 2);
    ctx.fill();
    ctx.restore();
  }
}

function initParticles() {
  particles = [];
  for (let i = 0; i < particleCount; i++) {
    particles.push(new Particle());
  }
}

function drawConnections() {
  ctx.save();
  ctx.globalCompositeOperation = 'screen';
  ctx.lineWidth = 1;
  
  for (let i = 0; i < particles.length; i++) {
    for (let j = i + 1; j < particles.length; j++) {
      const dx = particles[i].x - particles[j].x;
      const dy = particles[i].y - particles[j].y;
      const distance = Math.sqrt(dx * dx + dy * dy);
      
      if (distance < connectionDistance) {
        const opacity = (connectionDistance - distance) / connectionDistance * 0.15;
        ctx.strokeStyle = `rgba(0, 246, 255, ${opacity})`;
        ctx.beginPath();
        ctx.moveTo(particles[i].x, particles[i].y);
        ctx.lineTo(particles[j].x, particles[j].y);
        ctx.stroke();
      }
    }
  }
  ctx.restore();
}

function animate() {
  ctx.clearRect(0, 0, W, H);
  
  // Update and draw particles
  particles.forEach(particle => {
    particle.update();
    particle.draw();
  });
  
  // Draw connections
  drawConnections();
  
  requestAnimationFrame(animate);
}

initParticles();
animate();

/* ===========================
   Enhanced Card Tilt Effects
   =========================== */
document.querySelectorAll('.tilt').forEach(card => {
  const strength = 15;
  let isHovering = false;
  
  card.addEventListener('mouseenter', () => {
    isHovering = true;
    card.style.transformStyle = 'preserve-3d';
  });
  
  card.addEventListener('mousemove', (e) => {
    if (!isHovering) return;
    
    const rect = card.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    const centerX = rect.width / 2;
    const centerY = rect.height / 2;
    
    const rotateX = ((y - centerY) / centerY) * -strength;
    const rotateY = ((x - centerX) / centerX) * strength;
    
    card.style.transform = `
      perspective(1000px) 
      rotateX(${rotateX}deg) 
      rotateY(${rotateY}deg) 
      translateZ(20px)
      scale3d(1.05, 1.05, 1.05)
    `;
  });
  
  card.addEventListener('mouseleave', () => {
    isHovering = false;
    card.style.transform = '';
    card.style.transformStyle = '';
  });
});

/* ===========================
   Core Application Functions
   =========================== */

// Navigation functions - UPDATED
function navigateToEncryption() {
  showToast('Navigating to encryption page...', 'info');
  setTimeout(() => {
    window.location.href = 'file:///D:/Project/encrption.html';
  }, 1000);
}

function navigateToDecryption() {
  showToast('Navigating to decryption page...', 'info');
  setTimeout(() => {
    window.location.href = 'file:///D:/Project/decrypt.html';
  }, 1000);
}

// Toast notification system
function showToast(message, type = 'info', duration = 3000) {
  const toast = document.createElement('div');
  toast.className = `toast ${type}`;
  toast.innerHTML = `
    <i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle'}"></i>
    <span>${message}</span>
  `;
  
  document.getElementById('toastContainer').appendChild(toast);
  
  setTimeout(() => toast.classList.add('show'), 100);
  setTimeout(() => {
    toast.classList.remove('show');
    setTimeout(() => toast.remove(), 400);
  }, duration);
}

// Main action functions - UPDATED
function startEncryption() {
  navigateToEncryption();
}

function startDecryption() {
  navigateToDecryption();
}

function startAnalysis() {
  showToast('Initializing file analysis tools...', 'info');
  setTimeout(() => {
    showToast('Analysis tools ready!', 'success');
  }, 1500);
}

function openSettings() {
  showToast('Loading advanced settings...', 'info');
  setTimeout(() => {
    showToast('Settings panel opened!', 'success');
  }, 1500);
}

// Demo functions
function showDemo(type) {
  const messages = {
    encrypt: 'Starting encryption demo...',
    decrypt: 'Starting decryption demo...',
    analyze: 'Starting analysis demo...'
  };
  showToast(messages[type], 'info');
}

// File upload handling - Removed as per request

// Drag and drop functionality - Removed as per request

function processFiles(files) {
  files.forEach((file, index) => {
    setTimeout(() => {
      showToast(`Processing ${file.name}...`, 'info', 2000);
    }, index * 500);
  });
  
  setTimeout(() => {
    showToast('All files processed successfully!', 'success');
    updateStats();
  }, files.length * 500 + 2000);
}

// Toolbar actions - UPDATED
function quickEncrypt() {
  showToast('Quick encrypt mode activated', 'info');
  navigateToEncryption();
}

function quickDecrypt() {
  showToast('Quick decrypt mode activated', 'info');
  navigateToDecryption();
}

function showHistory() {
  showToast('Loading operation history...', 'info');
}

function showHelp() {
  showToast('Opening help documentation...', 'info');
}

// Settings and utility functions
function exportSettings() {
  showToast('Exporting settings configuration...', 'info');
  setTimeout(() => {
    showToast('Settings exported successfully!', 'success');
  }, 1000);
}

function toggleTheme() {
  showToast('Theme switching coming soon!', 'info');
}

function showSection(section) {
  showToast(`Navigating to ${section}...`, 'info');
}

function showModal(type) {
  showToast(`Opening ${type} information...`, 'info');
}

// Stats animation
function updateStats() {
  const stats = {
    'files-processed': Math.floor(Math.random() * 500) + 1200,
    'data-secured': (Math.random() * 2 + 2).toFixed(1) + 'TB',
    'success-rate': (99.5 + Math.random() * 0.4).toFixed(1) + '%',
    'uptime': (99.5 + Math.random() * 0.4).toFixed(1) + '%'
  };
  
  Object.entries(stats).forEach(([id, value]) => {
    const element = document.getElementById(id);
    if (element) {
      element.style.transform = 'scale(1.1)';
      element.style.color = '#00f6ff';
      setTimeout(() => {
        element.textContent = value;
        element.style.transform = '';
        element.style.color = '';
      }, 200);
    }
  });
}

/* ===========================
   Scroll Reveal Animation
   =========================== */
const observerOptions = {
  threshold: 0.1,
  rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('show');
      observer.unobserve(entry.target);
    }
  });
}, observerOptions);

document.querySelectorAll('.reveal').forEach(el => {
  observer.observe(el);
});

/* ===========================
   Performance Optimizations
   =========================== */

// Throttle resize events
let resizeTimeout;
window.addEventListener('resize', () => {
  clearTimeout(resizeTimeout);
  resizeTimeout = setTimeout(() => {
    initParticles();
  }, 250);
});

// Intersection observer for performance
const perfObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    const card = entry.target;
    if (entry.isIntersecting) {
      card.classList.add('in-view');
    } else {
      card.classList.remove('in-view');
    }
  });
});

document.querySelectorAll('.card').forEach(card => {
  perfObserver.observe(card);
});

// Initialize app
document.addEventListener('DOMContentLoaded', () => {
  showToast('CryptoSteg Pro initialized successfully!', 'success');
  updateStats();
});
</script>
</body>
</html>